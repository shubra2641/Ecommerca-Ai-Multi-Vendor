/**
 * Dark Mode Consolidated CSS
 * ملف CSS موحد لجميع إصلاحات الوضع المظلم
 *
 * يحتوي على:
 * - Dark Mode Fixes
 * - Action Buttons Fix
 * - Remaining Dark Mode Fixes
 */

/* ===== DARK MODE VARIABLES ===== */
/* متغيرات الوضع المظلم محصورة داخل body.dark-mode فقط */
body.dark-mode {
    --bg-primary    : #1a1a1a;
    --bg-secondary  : #2d2d2d;
    --bg-tertiary   : #404040;
    --bg-sidebar    : #1e1e1e;
    --text-primary  : #ffffff;
    --text-secondary: #b3b3b3;
    --text-muted    : #888888;
    --text-inverse  : #ffffff;
    --border-color  : #404040;
    --border-light  : #555555;
    --shadow-lg     : 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
}

/* ===== GLOBAL DARK MODE FIXES ===== */
    background-color: var(--bg-primary) !important;
    color           : var(--text-primary) !important;

/* Global text color fixes */
body.dark-mode *,
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6,
body.dark-mode p,
body.dark-mode span,
body.dark-mode div,
body.dark-mode label,
body.dark-mode small,
body.dark-mode strong,
body.dark-mode em,
body.dark-mode i:not([class*="fa"]),
body.dark-mode b {
    color: var(--text-primary) !important;
}

/* Override any remaining black text */
body.dark-mode [style*="color: #000"],
body.dark-mode [style*="color: black"],
body.dark-mode [style*="color: rgb(0, 0, 0)"] {
    color: var(--text-primary) !important;
}

/* Ensure proper contrast for links */
body.dark-mode a {
    color: var(--primary-color) !important;
}

body.dark-mode a:hover {
    color: #60a5fa !important;
}

/* Additional text color fixes for common elements */
body.dark-mode .text-dark,
body.dark-mode .text-black {
    color: var(--text-primary) !important;
}

body.dark-mode .text-muted {
    color: var(--text-muted) !important;
}

body.dark-mode .text-secondary {
    color: var(--text-secondary) !important;
}

/* Bootstrap text utilities override */
body.dark-mode .text-body,
body.dark-mode .text-body-emphasis {
    color: var(--text-primary) !important;
}

/* Card and content text */
body.dark-mode .card-text,
body.dark-mode .card-title,
body.dark-mode .card-subtitle {
    color: var(--text-primary) !important;
}

/* Table text */
body.dark-mode .table td,
body.dark-mode .table th {
    color: var(--text-primary) !important;
}

/* Form text */
body.dark-mode .form-text,
body.dark-mode .form-label,
body.dark-mode .form-control::placeholder {
    color: var(--text-secondary) !important;
}

/* Breadcrumb text */
body.dark-mode .breadcrumb-item,
body.dark-mode .breadcrumb-item a {
    color: var(--text-secondary) !important;
}

/* Page title and description */
body.dark-mode .page-title {
    color: var(--text-inverse) !important;
}

body.dark-mode .page-description {
    color: var(--text-secondary) !important;
}

/* Stats and metrics text */
body.dark-mode .stats-number,
body.dark-mode .metric-value {
    color: var(--text-inverse) !important;
}

body.dark-mode .stats-label,
body.dark-mode .metric-label {
    color: var(--text-secondary) !important;
}

/* ===== SIDEBAR FIXES ===== */
body.dark-mode .modern-sidebar {
    background  : var(--bg-sidebar);
    border-right: 1px solid var(--border-color);
}

body.dark-mode .sidebar-header {
    border-bottom: 1px solid var(--border-color);
}

body.dark-mode .brand {
    color: var(--text-inverse);
}

body.dark-mode .sidebar-toggle {
    color: var(--text-inverse);
}

body.dark-mode .sidebar-toggle:hover {
    background: rgba(255, 255, 255, 0.1);
}

body.dark-mode .search-input {
    background: rgba(255, 255, 255, 0.1);
    border    : 1px solid var(--border-color);
    color     : var(--text-inverse);
}

body.dark-mode .search-input::placeholder {
    color: var(--text-muted);
}

body.dark-mode .search-input:focus {
    background  : rgba(255, 255, 255, 0.15);
    border-color: var(--primary-color);
}

body.dark-mode .nav-section-title {
    color: var(--text-muted);
}

body.dark-mode .nav-item {
    color: rgba(255, 255, 255, 0.7);
}

body.dark-mode .nav-item:hover {
    color     : var(--text-inverse);
    background: rgba(255, 255, 255, 0.1);
}

body.dark-mode .nav-item.active {
    color     : var(--text-inverse);
    background: var(--primary-color);
}

body.dark-mode .sidebar-footer {
    border-top: 1px solid var(--border-color);
}

body.dark-mode .logout-btn {
    color: rgba(255, 255, 255, 0.7);
}

body.dark-mode .logout-btn:hover {
    color     : var(--danger-color);
    background: rgba(239, 68, 68, 0.1);
}

/* ===== HEADER FIXES ===== */
body.dark-mode .top-header {
    background   : var(--bg-primary);
    border-bottom: 1px solid var(--border-color);
}

body.dark-mode .mobile-menu-toggle {
    color: var(--text-primary);
}

body.dark-mode .mobile-menu-toggle:hover {
    background: var(--bg-tertiary);
}

body.dark-mode .breadcrumb-item {
    color: var(--text-secondary);
}

body.dark-mode .breadcrumb-item.active {
    color: var(--text-primary);
}

body.dark-mode .breadcrumb-item a {
    color: var(--text-secondary);
}

body.dark-mode .breadcrumb-item a:hover {
    color: var(--primary-color);
}

body.dark-mode .header-search .search-box input {
    background: var(--bg-secondary);
    border    : 1px solid var(--border-color);
    color     : var(--text-primary);
}

body.dark-mode .header-search .search-box input:focus {
    border-color: var(--primary-color);
}

body.dark-mode .header-btn {
    color: var(--text-secondary);
}

body.dark-mode .header-btn:hover {
    background: var(--bg-tertiary);
    color     : var(--text-primary);
}

body.dark-mode .user-menu-btn:hover {
    background: var(--bg-tertiary);
}

body.dark-mode .user-name {
    color: var(--text-primary);
}

/* ===== DROPDOWN FIXES ===== */
body.dark-mode .dropdown-menu {
    background-color: var(--bg-primary);
    border          : 1px solid var(--border-color);
    box-shadow      : var(--shadow-lg);
}

body.dark-mode .dropdown-item {
    color: var(--text-primary);
}

body.dark-mode .dropdown-item:hover {
    background-color: var(--bg-tertiary);
    color           : var(--text-primary);
}

body.dark-mode .dropdown-item:focus {
    background-color: var(--bg-tertiary);
    color           : var(--text-primary);
}

/* ===== FORM FIXES ===== */
body.dark-mode .form-control {
    background-color: var(--bg-secondary);
    border          : 1px solid var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .form-control:focus {
    background-color: var(--bg-secondary);
    border-color    : var(--primary-color);
    color           : var(--text-primary);
    box-shadow      : 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
}

body.dark-mode .form-control::placeholder {
    color: var(--text-muted);
}

body.dark-mode .form-label {
    color: var(--text-primary);
}

body.dark-mode .form-select {
    background-color: var(--bg-secondary);
    border          : 1px solid var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .form-select:focus {
    border-color: var(--primary-color);
    box-shadow  : 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
}

body.dark-mode .form-check-input {
    background-color: var(--bg-secondary);
    border          : 1px solid var(--border-color);
}

body.dark-mode .form-check-input:checked {
    background-color: var(--primary-color);
    border-color    : var(--primary-color);
}

body.dark-mode .form-check-label {
    color: var(--text-primary);
}

/* ===== BUTTON FIXES ===== */
body.dark-mode .btn-primary {
    background-color: var(--primary-color);
    border-color    : var(--primary-color);
    color           : white;
}

body.dark-mode .btn-primary:hover {
    background-color: #2563eb;
    border-color    : #2563eb;
}

body.dark-mode .btn-secondary {
    background-color: var(--bg-tertiary);
    border-color    : var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .btn-secondary:hover {
    background-color: #475569;
    border-color    : #475569;
}

body.dark-mode .btn-outline-primary {
    color       : var(--primary-color);
    border-color: var(--primary-color);
}

body.dark-mode .btn-outline-primary:hover {
    background-color: var(--primary-color);
    border-color    : var(--primary-color);
    color           : white;
}

body.dark-mode .btn-outline-secondary {
    color       : var(--text-secondary);
    border-color: var(--border-color);
}

body.dark-mode .btn-outline-secondary:hover {
    background-color: var(--bg-tertiary);
    border-color    : var(--border-color);
    color           : var(--text-primary);
}

/* ===== TABLE FIXES ===== */
body.dark-mode .table {
    color: var(--text-primary);
}

body.dark-mode .table th {
    background-color: var(--bg-tertiary);
    border-color    : var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .table td {
    border-color: var(--border-color);
}

body.dark-mode .table-striped>tbody>tr:nth-of-type(odd)>td,
body.dark-mode .table-striped>tbody>tr:nth-of-type(odd)>th {
    background-color: rgba(255, 255, 255, 0.05);
}

body.dark-mode .table-hover>tbody>tr:hover>td,
body.dark-mode .table-hover>tbody>tr:hover>th {
    background-color: var(--bg-tertiary);
}

/* ===== CARD FIXES ===== */
body.dark-mode .card {
    background-color: var(--bg-secondary);
    border          : 1px solid var(--border-color);
}

body.dark-mode .card-header {
    background-color: var(--bg-tertiary);
    border-bottom   : 1px solid var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .card-body {
    color: var(--text-primary);
}

body.dark-mode .card-footer {
    background-color: var(--bg-tertiary);
    border-top      : 1px solid var(--border-color);
}

/* ===== MODAL FIXES ===== */
body.dark-mode .modal-content {
    background-color: var(--bg-secondary);
    border          : 1px solid var(--border-color);
}

body.dark-mode .modal-header {
    border-bottom: 1px solid var(--border-color);
}

body.dark-mode .modal-footer {
    border-top: 1px solid var(--border-color);
}

body.dark-mode .modal-title {
    color: var(--text-primary);
}

body.dark-mode .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* ===== ALERT FIXES ===== */
body.dark-mode .alert-primary {
    background-color: rgba(59, 130, 246, 0.1);
    border-color    : rgba(59, 130, 246, 0.2);
    color           : #93c5fd;
}

body.dark-mode .alert-success {
    background-color: rgba(16, 185, 129, 0.1);
    border-color    : rgba(16, 185, 129, 0.2);
    color           : #6ee7b7;
}

body.dark-mode .alert-warning {
    background-color: rgba(245, 158, 11, 0.1);
    border-color    : rgba(245, 158, 11, 0.2);
    color           : #fcd34d;
}

body.dark-mode .alert-danger {
    background-color: rgba(239, 68, 68, 0.1);
    border-color    : rgba(239, 68, 68, 0.2);
    color           : #fca5a5;
}

body.dark-mode .alert-info {
    background-color: rgba(6, 182, 212, 0.1);
    border-color    : rgba(6, 182, 212, 0.2);
    color           : #67e8f9;
}

/* ===== BADGE FIXES ===== */
body.dark-mode .badge {
    color: white;
}

body.dark-mode .badge.bg-secondary {
    background-color: var(--bg-tertiary) !important;
}

/* ===== PAGINATION FIXES ===== */
body.dark-mode .page-link {
    background-color: var(--bg-secondary);
    border-color    : var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .page-link:hover {
    background-color: var(--bg-tertiary);
    border-color    : var(--border-color);
    color           : var(--text-primary);
}

body.dark-mode .page-item.active .page-link {
    background-color: var(--primary-color);
    border-color    : var(--primary-color);
}

body.dark-mode .page-item.disabled .page-link {
    background-color: var(--bg-secondary);
    border-color    : var(--border-color);
    color           : var(--text-muted);
}

/* ===== TEXT FIXES ===== */
body.dark-mode .text-muted {
    color: var(--text-muted) !important;
}

body.dark-mode .text-primary {
    color: var(--primary-color) !important;
}

body.dark-mode .text-secondary {
    color: var(--text-secondary) !important;
}

body.dark-mode .text-success {
    color: var(--success-color) !important;
}

body.dark-mode .text-warning {
    color: var(--warning-color) !important;
}

body.dark-mode .text-danger {
    color: var(--danger-color) !important;
}

body.dark-mode .text-info {
    color: var(--info-color) !important;
}

/* ===== BORDER FIXES ===== */
body.dark-mode .border {
    border-color: var(--border-color) !important;
}

body.dark-mode .border-top {
    border-top-color: var(--border-color) !important;
}

body.dark-mode .border-bottom {
    border-bottom-color: var(--border-color) !important;
}

body.dark-mode .border-left {
    border-left-color: var(--border-color) !important;
}

body.dark-mode .border-right {
    border-right-color: var(--border-color) !important;
}

/* ===== BACKGROUND FIXES ===== */
body.dark-mode .bg-light {
    background-color: var(--bg-secondary) !important;
}

body.dark-mode .bg-white {
    background-color: var(--bg-primary) !important;
}

body.dark-mode .bg-secondary {
    background-color: var(--bg-tertiary) !important;
}

/* ===== SCROLLBAR FIXES ===== */
body.dark-mode ::-webkit-scrollbar {
    width : 8px;
    height: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

body.dark-mode ::-webkit-scrollbar-thumb {
    background   : var(--border-color);
    border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: var(--border-light);
}

/* ===== TRANSITION IMPROVEMENTS ===== */
body.dark-mode * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* ===== RESPONSIVE FIXES ===== */
@media (max-width: 768px) {
    body.dark-mode .main-content {
        margin-left: 0;
    }

    body.dark-mode .modern-sidebar {
        transform: translateX(-100%);
    }

    body.dark-mode .modern-sidebar.show {
        transform: translateX(0);
    }
}

/* ===== PRINT FIXES ===== */
@media print {
    body.dark-mode {
        background: white !important;
        color     : black !important;
    }

    body.dark-mode * {
        background  : white !important;
        color       : black !important;
        border-color: #ccc !important;
    }
}

/**
 * Action Buttons Fix
 * إصلاح أزرار الإجراءات في الجداول
 */

/* إصلاح أزرار الإجراءات في الجداول */
.btn-group {
    display        : flex;
    flex-direction : row !important;
    gap            : 0.25rem;
    align-items    : center;
    justify-content: flex-start;
    flex-wrap      : nowrap;
}

/* إصلاح الأزرار الصغيرة */
.btn-group .btn-sm {
    padding        : 0.375rem 0.5rem;
    font-size      : 0.75rem;
    border-radius  : 0.375rem;
    min-width      : 32px;
    height         : 32px;
    display        : flex;
    align-items    : center;
    justify-content: center;
    margin-bottom  : 0 !important;
    white-space    : nowrap;
}

/* إخفاء النص في الشاشات الصغيرة والاحتفاظ بالأيقونات فقط */
@media (max-width: 575.98px) {
    .btn-group .btn-sm .d-sm-none {
        display: none !important;
    }

    .btn-group .btn-sm {
        min-width: 28px;
        height   : 28px;
        padding  : 0.25rem;
    }

    .btn-group .btn-sm i {
        font-size: 0.75rem;
    }
}

/* إصلاح أزرار الإجراءات في الجداول المتجاوبة */
.table-responsive .btn-group {
    min-width: 120px;
}

/* إصلاح أزرار الإجراءات في الوضع المظلم */
[data-theme="dark"] .btn-group .btn-outline-secondary {
    border-color: #6c757d;
    color       : #adb5bd;
}

[data-theme="dark"] .btn-group .btn-outline-secondary:hover {
    background-color: #6c757d;
    border-color    : #6c757d;
    color           : #fff;
}

[data-theme="dark"] .btn-group .btn-outline-success {
    border-color: #198754;
    color       : #75b798;
}

[data-theme="dark"] .btn-group .btn-outline-success:hover {
    background-color: #198754;
    border-color    : #198754;
    color           : #fff;
}

[data-theme="dark"] .btn-group .btn-outline-danger {
    border-color: #dc3545;
    color       : #ea868f;
}

[data-theme="dark"] .btn-group .btn-outline-danger:hover {
    background-color: #dc3545;
    border-color    : #dc3545;
    color           : #fff;
}

/* إصلاح أزرار الإجراءات في البطاقات المحمولة */
.mobile-card .btn-group {
    justify-content: flex-end;
    margin-top     : 0.5rem;
}

/* إصلاح أزرار الإجراءات في الجداول الحديثة */
.table-modern .btn-group {
    gap: 0.375rem;
}

.table-modern .btn-group .btn-sm {
    border-radius: 0.5rem;
    transition   : all 0.2s ease;
}

.table-modern .btn-group .btn-sm:hover {
    transform : translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* إصلاح أزرار الإجراءات المجمعة */
.bulk-actions .btn-group {
    gap: 0.5rem;
}

/* إصلاح أزرار الإجراءات في الصفحات */
.page-actions .btn-group {
    gap      : 0.5rem;
    flex-wrap: wrap;
}

/* إصلاح أزرار الإجراءات في النماذج المضمنة */
.btn-group form {
    display: inline-block;
    margin : 0;
}

.btn-group form .btn {
    margin: 0;
}

/* إصلاح أزرار الإجراءات في الشاشات الكبيرة */
@media (min-width: 768px) {
    .btn-group .btn-sm .d-sm-none {
        display: none !important;
    }

    .btn-group .btn-sm {
        min-width: 36px;
        height   : 36px;
    }
}

/* إصلاح أزرار الإجراءات في الشاشات الكبيرة جداً */
@media (min-width: 1200px) {
    .btn-group .btn-sm {
        min-width: 40px;
        height   : 40px;
        padding  : 0.5rem 0.75rem;
    }
}

/* إصلاح أزرار الإجراءات مع التحسينات البصرية */
.btn-group .btn-sm {
    position: relative;
    overflow: hidden;
}

.btn-group .btn-sm::before {
    content   : '';
    position  : absolute;
    top       : 0;
    left      : -100%;
    width     : 100%;
    height    : 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-group .btn-sm:hover::before {
    left: 100%;
}

/* إصلاح أزرار الإجراءات في الجداول المخططة */
.table-striped .btn-group {
    background: transparent;
}

/* إصلاح أزرار الإجراءات في حالة التحميل */
.btn-group .btn-sm.loading {
    pointer-events: none;
    opacity       : 0.6;
}

.btn-group .btn-sm.loading i {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* إصلاح أزرار الإجراءات مع التركيز */
.btn-group .btn-sm:focus {
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    z-index   : 2;
}

/* إصلاح أزرار الإجراءات المعطلة */
.btn-group .btn-sm:disabled {
    opacity       : 0.5;
    pointer-events: none;
}

/* إصلاح أزرار الإجراءات في الطباعة */
@media print {
    .btn-group {
        display: none !important;
    }
}

/* ===== REMAINING DARK MODE FIXES ===== */

/* Dashboard specific dark mode fixes */
body.dark-mode .dashboard-header {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%) !important;
}

body.dark-mode .dashboard-title {
    background             : linear-gradient(135deg, var(--text-primary), var(--text-secondary)) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip        : text !important;
}

body.dark-mode .dashboard-subtitle {
    color: var(--text-secondary) !important;
}

body.dark-mode .modern-card {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color       : var(--text-primary) !important;
}

body.dark-mode .modern-card .card-header {
    background  : linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%) !important;
    border-color: var(--border-color) !important;
}

body.dark-mode .modern-card .card-title {
    color: var(--text-primary) !important;
}

body.dark-mode .chart-container {
    background: var(--bg-secondary) !important;
}

body.dark-mode .activity-item:hover {
    background-color: rgba(59, 130, 246, 0.1) !important;
}

body.dark-mode .user-item:hover {
    background-color: rgba(59, 130, 246, 0.1) !important;
}

body.dark-mode .user-name {
    color: var(--text-primary) !important;
}

body.dark-mode .user-activity {
    color: var(--text-secondary) !important;
}

body.dark-mode .progress {
    background-color: var(--bg-tertiary) !important;
}

/* Languages CSS dark mode fixes */
body.dark-mode .language-card {
    background-color: var(--bg-secondary) !important;
    border-color    : var(--border-color) !important;
}

/* Admin refinements dark mode fixes */
body.dark-mode .form-toolbar {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color       : var(--text-primary) !important;
}

body.dark-mode .quick-report-card {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color       : var(--text-primary) !important;
}

body.dark-mode .quick-report-badge {
    background: var(--bg-tertiary) !important;
    color     : var(--text-primary) !important;
}

/* Reports CSS dark mode fixes */
body.dark-mode .report-section {
    background: var(--bg-secondary) !important;
}

/* Form sections dark mode fixes */
body.dark-mode .inner-section {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color       : var(--text-primary) !important;
}

/* Settings CSS dark mode fixes */
body.dark-mode .settings-section {
    background-color: var(--bg-secondary) !important;
}

/* Currencies CSS dark mode fixes */
body.dark-mode .currency-card {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
}

body.dark-mode .currency-item {
    background-color: var(--bg-secondary) !important;
}

/* Admin layout dark mode fixes */
body.dark-mode .admin-content {
    background-color: var(--bg-primary) !important;
}

body.dark-mode .admin-header {
    background-color: var(--bg-secondary) !important;
}

body.dark-mode .admin-sidebar {
    background-color: var(--bg-secondary) !important;
}

/* User balance dark mode fixes */
body.dark-mode .balance-card {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%) !important;
}

/* Responsive core dark mode fixes */
body.dark-mode .rf-table-wrapper {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
}

body.dark-mode .rf-stack-table tbody tr {
    background  : var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color       : var(--text-primary) !important;
}

/* Modern admin additional fixes */
body.dark-mode .admin-card {
    background: var(--bg-secondary) !important;
    color     : var(--text-primary) !important;
}

body.dark-mode .metric-item {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%) !important;
}

body.dark-mode .status-indicator {
    background: var(--bg-tertiary) !important;
}

/* Additional hover fixes for any remaining white backgrounds */
body.dark-mode *:hover {
    background-color: var(--bg-secondary, rgba(59, 130, 246, 0.1)) !important;
}

/* Override any remaining light backgrounds */
body.dark-mode [style*="background: #f"],
body.dark-mode [style*="background-color: #f"],
body.dark-mode [style*="background: #e"],
body.dark-mode [style*="background-color: #e"],
body.dark-mode [style*="background: #d"],
body.dark-mode [style*="background-color: #d"],
body.dark-mode [style*="background: white"],
body.dark-mode [style*="background-color: white"],
body.dark-mode [style*="background: #fff"],
body.dark-mode [style*="background-color: #fff"] {
    background      : var(--bg-secondary) !important;
    background-color: var(--bg-secondary) !important;
    color           : var(--text-primary) !important;
}

/* Ensure all text remains visible */
body.dark-mode * {
    color: var(--text-primary) !important;
}

/* Exception for icons and special elements */
body.dark-mode .fa,
body.dark-mode .fas,
body.dark-mode .fab,
body.dark-mode .far,
body.dark-mode .fal,
body.dark-mode .fad,
body.dark-mode [class*="fa-"] {
    color: inherit !important;
}

/* Smooth transitions */
body.dark-mode * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;
}