'use strict';
// Unified slug generation logic for tag & attribute forms (replaces inline scripts)
(function () {
    function toSlug(str)
    {
        return (str || '')
        .toLowerCase()
        .replace(/[^a-z0-9\s-]/g,'')
        .replace(/\s+/g,'-')
        .replace(/-+/g,'-')
        .replace(/^-+|-+$/g,'');
    }
    function attachSlugHandlers(nameSelector, slugSelector)
    {
        var nameInput = document.querySelector(nameSelector);
        var slugInput = document.querySelector(slugSelector);
        if (!nameInput || !slugInput) {
            return;
        }
        nameInput.addEventListener('input', function () {
            if (!slugInput.value || slugInput.dataset.autoGenerated === 'true') {
                slugInput.value = toSlug(this.value);
                slugInput.dataset.autoGenerated = 'true';
            }
        });
        slugInput.addEventListener('input', function () {
            if (this.value) {
                this.dataset.autoGenerated = 'false'; }
        });
    }
    function init()
    {
        attachSlugHandlers('#tag-name', '#tag-slug');
        attachSlugHandlers('input[name="name"]', 'input[name="slug"]');
    }
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init); } else {
        init();
        }
        window.__slugify = { toSlug: toSlug };
})();
