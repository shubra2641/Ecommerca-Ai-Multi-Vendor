// Minimal local Chart.js stub for tests â€” implements basic Chart constructor used by analytics page
(function(window) {
    if (typeof window.Chart !== 'undefined') {return;} // don't override if real Chart exists

    function Chart(ctx, cfg) {
        this.ctx = ctx;
        this.config = cfg || {};
        this.data = (cfg && cfg.data) || {};
        this.config.type = this.config.type || 'line';
        this.update = function() { };
        this.toBase64Image = function() {
            try {
                // return a tiny transparent PNG data URI to satisfy downloadChart
                return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=';
            } catch (e) { return ''; }
        };
        this.destroy = function() { };
    }

    window.Chart = Chart;
}(window));
